{"ast":null,"code":"import Header from'./Header';import Nav from'./Nav';import Home from'./Home';import NewPost from'./NewPost';import{format}from'date-fns';import{useState,useEffect}from'react';import PostPage from'./PostPage';import{Routes,Route}from'react-router-dom';import About from'./About';import Missing from'./Missing';import{useNavigate}from'react-router-dom';import api from\"./api/posts\";import EditPost from'./EditPost';import useWindowSize from\"./hooks/useWindowSize\";//import useAxiosFetch from './hooks/useAxiosFetch';\nimport{DataProvider}from'./context/dataContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[posts,setPosts]=useState([]);const[search,setSearch]=useState('');const[searchResults,setSearchResults]=[];const[postTitle,setPostTitle]=useState('');const[postBody,setPostBody]=useState('');const[editTitle,setEditTitle]=useState('');const[editBody,setEditBody]=useState('');const navigate=useNavigate();const{width}=useWindowSize();//const {data,loading,error}=useAxiosFetch('http://localhost:3500/posts');\n/*   useEffect(()=>{\n    setPosts(data);\n  },[data])\n */useEffect(()=>{const fetchPosts=async()=>{try{const response=await api.get('/posts');setPosts(response.data);}catch(err){if(err.response){console.log(err.response.data);console.log(err.response.status);console.log(err.response.headers);}else{console.log(`Error:${err.message}`);}}};fetchPosts();},[]);/*  useEffect(()=>{\n    const filteredResults=posts.filter((post)=>\n      ((post.body).toLowerCase()).includes(search.toLowerCase())\n      ||((post.title).toLowerCase()).includes(search.toLowerCase()));\n   \n    setSearchResults(filteredResults.reverse()); \n  },  [posts,search] )  */const handleSubmit=async e=>{e.preventDefault();const id=posts.length?posts[posts.length-1].id+1:1;const datetime=format(new Date(),'MMMM dd,yyyy pp');const newPost={id,title:postTitle,datetime,body:postBody};try{const response=await api.post('/posts',newPost);const allPosts=[...posts,response.data];setPosts(allPosts);setPostTitle('');setPostBody('');navigate('/');}catch(err){{console.log(`Error:${err.message}`);}}};const handleEdit=async id=>{const datetime=format(new Date(),'MMMM dd,yyyy pp');const updatedPost={id,title:editTitle,datetime,body:editBody};try{const response=await api.put(`/posts/${id}`,updatedPost);setPosts(posts.map(post=>post.id===id?{...response.data}:post));setEditTitle('');setEditBody('');navigate('/');}catch(err){{console.log(`Error:${err.message}`);}}};const handleDelete=id=>{try{//await api.delete(`/posts/${id}`)\nconst postsList=posts.filter(post=>post.id!==id);setPosts(postsList);navigate('/');}catch(err){{console.log(`Error:${err.message}`);}}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(DataProvider,{children:[/*#__PURE__*/_jsx(Header,{title:\"Mathi Social Media App\"}),/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home/*  loading={loading}\n                error={error} */,{})}),/*#__PURE__*/_jsxs(Route,{path:\"post\",children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(NewPost,{})}),/*#__PURE__*/_jsx(Route,{path:\":id\",element:/*#__PURE__*/_jsx(PostPage,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/edit/:id\",element:/*#__PURE__*/_jsx(EditPost,{})}),/*#__PURE__*/_jsx(Route,{path:\"about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Missing,{})})]})]})});}export default App;","map":{"version":3,"names":["Header","Nav","Home","NewPost","format","useState","useEffect","PostPage","Routes","Route","About","Missing","useNavigate","api","EditPost","useWindowSize","DataProvider","jsx","_jsx","jsxs","_jsxs","App","posts","setPosts","search","setSearch","searchResults","setSearchResults","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","navigate","width","fetchPosts","response","get","data","err","console","log","status","headers","message","handleSubmit","e","preventDefault","id","length","datetime","Date","newPost","title","body","post","allPosts","handleEdit","updatedPost","put","map","handleDelete","postsList","filter","className","children","path","element","index"],"sources":["/Users/boopathiraj/sanvi/src/App.js"],"sourcesContent":["import Header from './Header'\nimport Nav from './Nav'\nimport Home from './Home';\nimport NewPost from './NewPost';\nimport { format } from 'date-fns';\nimport { useState , useEffect } from 'react';\nimport PostPage from './PostPage';\nimport { Routes,Route } from 'react-router-dom'\nimport About from './About';\nimport Missing from './Missing';\nimport { useNavigate } from 'react-router-dom';\nimport api from \"./api/posts\";\nimport EditPost from './EditPost';\nimport useWindowSize from \"./hooks/useWindowSize\";\n//import useAxiosFetch from './hooks/useAxiosFetch';\nimport { DataProvider } from './context/dataContext';\n\n\nfunction App() {\n  const[posts,setPosts]=useState([])\n  const [search,setSearch]=useState('')\n  const [searchResults,setSearchResults]=([])\n  const[postTitle,setPostTitle]=useState('');\n  const[postBody,setPostBody]=useState('');\n  const[editTitle,setEditTitle]=useState('');  \n  const[editBody,setEditBody]=useState('');  \n  const navigate=useNavigate();\n  const {width}=useWindowSize();\n  //const {data,loading,error}=useAxiosFetch('http://localhost:3500/posts');\n\n/*   useEffect(()=>{\n    setPosts(data);\n  },[data])\n */\n   useEffect(() => {\n    const fetchPosts= async() => {\n      try {\n      const response =await api.get('/posts');\n      setPosts(response.data)\n      } catch (err) {\n       if (err.response){\n        console.log(err.response.data);\n        console.log(err.response.status);\n        console.log(err.response.headers);\n        \n      } else {\n\n        console.log(`Error:${err.message}`);\n      }\n\n      \n      }\n\n    }\n\n    fetchPosts();\n\n  },[]) \n \n \n\n /*  useEffect(()=>{\n    const filteredResults=posts.filter((post)=>\n      ((post.body).toLowerCase()).includes(search.toLowerCase())\n      ||((post.title).toLowerCase()).includes(search.toLowerCase()));\n   \n    setSearchResults(filteredResults.reverse()); \n  },  [posts,search] )  */\n \n\n  const handleSubmit=async(e)=>{ e.preventDefault();\n    const id=posts.length ? posts[posts.length-1].id+1 : 1;\n    const datetime=format(new Date(),'MMMM dd,yyyy pp');\n    const newPost={id,title:postTitle,datetime,body:postBody};\n    try{\n      const response= await api.post('/posts',newPost)\n      const allPosts=[...posts,response.data] \n      setPosts(allPosts);\n      setPostTitle('');\n      setPostBody('');\n      navigate('/')\n    }\n    catch (err) {\n      {\n\n       console.log(`Error:${err.message}`);\n     }\n     }\n  }\n  const handleEdit = async(id)=>{\n    const datetime=format(new Date(),'MMMM dd,yyyy pp');\n    const updatedPost={id,title:editTitle,datetime,body:editBody};\n    try{\n      const response=await api.put(`/posts/${id}`,updatedPost)\n      setPosts(posts.map(post=>post.id===id?{...response.data}:post));\n      setEditTitle('');\n      setEditBody('');\n      navigate('/')\n    }  \n    catch (err) {\n      {\n\n       console.log(`Error:${err.message}`);\n     }\n     }  \n\n  } \n  const handleDelete = (id)=>{\n    try{\n       //await api.delete(`/posts/${id}`)\n       const postsList=posts.filter(post=>post.id !== id);\n       setPosts(postsList);\n       navigate('/')\n    }   \n    catch (err) {\n      {\n       console.log(`Error:${err.message}`);\n     }\n\n     \n     }\n\n  }  \n  return (\n    <div className=\"App\">\n      <DataProvider>\n            <Header title = \"Mathi Social Media App\" />\n            \n            <Nav />\n              <Routes>\n                <Route path=\"/\"  element={<Home \n              \n              /*  loading={loading}\n                error={error} */\n                /> \n              } />\n                <Route path=\"post\" >\n                    <Route index element={<NewPost/> }/>\n                    <Route path=\":id\"  element={<PostPage  />}  />\n                </Route>\n                <Route path=\"/edit/:id\"  element={<EditPost />} \n                      />\n                <Route path=\"about\"  element={<About/> } />\n                <Route path=\"*\"  element={<Missing/> } /> \n                  \n\n            \n\n              </Routes>\n              </DataProvider> \n    \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}