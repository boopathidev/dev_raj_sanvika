{"ast":null,"code":"var _jsxFileName = \"/Users/boopathiraj/sanvi/src/context/dataContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect, useNavigate, useWindowSize } from 'react';\nimport { format } from 'date-fns';\n//import { useContext } from 'react';\n//import DataContext from '../context/DataContext';\nimport api from \"../api/posts\";\n//import axios from 'axios';\n//import api from \"../api/posts\";\nimport EditPost from '../EditPost';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dataContext = /*#__PURE__*/createContext();\nexport const DataProvider = ({\n  children\n}) => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchResults, setSearchResults] = [];\n  const [postTitle, setPostTitle] = useState('');\n  const [postBody, setPostBody] = useState('');\n  const [editTitle, setEditTitle] = useState('');\n  const [editBody, setEditBody] = useState('');\n  const {\n    width\n  } = useWindowSize();\n  const navigate = useNavigate();\n\n  //const {data,loading,error}=useAxiosFetch('http://localhost:3500/posts');\n\n  /*   useEffect(()=>{\n      setPosts(data);\n    },[data])\n   */\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const response = await api.get('/posts');\n        setPosts(response.data);\n      } catch (err) {\n        if (err.response) {\n          console.log(err.response.data);\n          console.log(err.response.status);\n          console.log(err.response.headers);\n        } else {\n          console.log(`Error:${err.message}`);\n        }\n      }\n    };\n    fetchPosts();\n  }, []);\n\n  /*  useEffect(()=>{\n     const filteredResults=posts.filter((post)=>\n       ((post.body).toLowerCase()).includes(search.toLowerCase())\n       ||((post.title).toLowerCase()).includes(search.toLowerCase()));\n    \n     setSearchResults(filteredResults.reverse()); \n   },  [posts,search] ) */\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\n    const datetime = format(new Date(), 'MMMM dd,yyyy pp');\n    const newPost = {\n      id,\n      title: postTitle,\n      datetime,\n      body: postBody\n    };\n    try {\n      const response = await api.post('/posts', newPost);\n      const allPosts = [...posts, response.data];\n      setPosts(allPosts);\n      setPostTitle('');\n      setPostBody('');\n      navigate('/');\n    } catch (err) {\n      {\n        console.log(`Error:${err.message}`);\n      }\n    }\n  };\n  const handleEdit = async id => {\n    const datetime = format(new Date(), 'MMMM dd,yyyy pp');\n    const updatedPost = {\n      id,\n      title: editTitle,\n      datetime,\n      body: editBody\n    };\n    try {\n      const response = await api.put(`/posts/${id}`, updatedPost);\n      setPosts(posts.map(post => post.id === id ? {\n        ...response.data\n      } : post));\n      setEditTitle('');\n      setEditBody('');\n      navigate('/');\n    } catch (err) {\n      {\n        console.log(`Error:${err.message}`);\n      }\n    }\n  };\n  const handleDelete = id => {\n    try {\n      //await api.delete(`/posts/${id}`)\n      const postsList = posts.filter(post => post.id !== id);\n      setPosts(postsList);\n      navigate('/');\n    } catch (err) {\n      {\n        console.log(`Error:${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      width,\n      search,\n      setSearch,\n      posts,\n      handleSubmit,\n      postTitle,\n      setPostTitle,\n      postBody,\n      setPostBody,\n      handleEdit,\n      editTitle,\n      setEditTitle,\n      editBody,\n      setEditBody,\n      handleDelete\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n_s(DataProvider, \"xGmfRGElNB/x53+/cqpoyR0cj5s=\", false, function () {\n  return [useWindowSize, useNavigate];\n});\n_c = DataProvider;\nexport default dataContext;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","useNavigate","useWindowSize","format","api","EditPost","jsxDEV","_jsxDEV","dataContext","DataProvider","children","_s","posts","setPosts","search","setSearch","searchResults","setSearchResults","postTitle","setPostTitle","postBody","setPostBody","editTitle","setEditTitle","editBody","setEditBody","width","navigate","fetchPosts","response","get","data","err","console","log","status","headers","message","handleSubmit","e","preventDefault","id","length","datetime","Date","newPost","title","body","post","allPosts","handleEdit","updatedPost","put","map","handleDelete","postsList","filter","DataContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/boopathiraj/sanvi/src/context/dataContext.js"],"sourcesContent":["import {createContext, useState,useEffect, useNavigate  ,useWindowSize} from 'react';\nimport { format } from 'date-fns';\n//import { useContext } from 'react';\n//import DataContext from '../context/DataContext';\nimport api from \"../api/posts\"; \n//import axios from 'axios';\n//import api from \"../api/posts\";\nimport EditPost from '../EditPost';\n\n\n\nconst dataContext=createContext();\n\nexport const DataProvider=({children})=>{\n   \n        const[posts,setPosts]=useState([])\n        const [search,setSearch]=useState('')\n        const [searchResults,setSearchResults]=([])\n        const[postTitle,setPostTitle]=useState('');\n        const[postBody,setPostBody]=useState('');\n        const[editTitle,setEditTitle]=useState('');  \n        const[editBody,setEditBody]=useState('');  \n         const {width}=useWindowSize();\n        const navigate=useNavigate();\n      \n        //const {data,loading,error}=useAxiosFetch('http://localhost:3500/posts');\n      \n      /*   useEffect(()=>{\n          setPosts(data);\n        },[data])\n       */\n         useEffect(() => {\n          const fetchPosts= async() => {\n            try {\n            const response =await api.get('/posts');\n            setPosts(response.data)\n            } catch (err) {\n             if (err.response){\n              console.log(err.response.data);\n              console.log(err.response.status);\n              console.log(err.response.headers);\n              \n            } else {\n      \n              console.log(`Error:${err.message}`);\n            }\n      \n            \n            }\n      \n          }\n      \n          fetchPosts();\n      \n        },[]) \n       \n       \n      \n       /*  useEffect(()=>{\n          const filteredResults=posts.filter((post)=>\n            ((post.body).toLowerCase()).includes(search.toLowerCase())\n            ||((post.title).toLowerCase()).includes(search.toLowerCase()));\n         \n          setSearchResults(filteredResults.reverse()); \n        },  [posts,search] ) */\n       \n      \n        const handleSubmit=async(e)=>{ e.preventDefault();\n          const id=posts.length ? posts[posts.length-1].id+1 : 1;\n          const datetime=format(new Date(),'MMMM dd,yyyy pp');\n          const newPost={id,title:postTitle,datetime,body:postBody};\n          try{\n            const response= await api.post('/posts',newPost)\n            const allPosts=[...posts,response.data] \n            setPosts(allPosts);\n            setPostTitle('');\n            setPostBody('');\n            navigate('/')\n          }\n          catch (err) {\n            {\n      \n             console.log(`Error:${err.message}`);\n           }\n           }\n        }\n        const handleEdit = async(id)=>{\n          const datetime=format(new Date(),'MMMM dd,yyyy pp');\n          const updatedPost={id,title:editTitle,datetime,body:editBody};\n          try{\n            const response=await api.put(`/posts/${id}`,updatedPost)\n            setPosts(posts.map(post=>post.id===id?{...response.data}:post));\n            setEditTitle('');\n            setEditBody('');\n            navigate('/')\n          }  \n          catch (err) {\n            {\n      \n             console.log(`Error:${err.message}`);\n           }\n           }  \n      \n        } \n        const handleDelete = (id)=>{\n          try{\n             //await api.delete(`/posts/${id}`)\n             const postsList=posts.filter(post=>post.id !== id);\n             setPosts(postsList);\n             navigate('/')\n          }   \n          catch (err) {\n            {\n             console.log(`Error:${err.message}`);\n           }\n      \n           \n           }\n      \n        }   \n  return(\n\n        <DataContext.Provider value={{ width,search,setSearch,posts , handleSubmit,postTitle,setPostTitle,postBody,setPostBody\n\n            ,handleEdit,editTitle,setEditTitle,editBody,setEditBody, handleDelete }}>\n\n\n            {children}\n         </DataContext.Provider>\n\n     )\n\n\n\n\n\n}\nexport default dataContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}